// Generated by CoffeeScript 2.7.0
var answer, born, count, country, echo, find, members, name, range;

echo = console.log;

range = _.range;

members = {};

(async function() {
  var err, res1;
  try {
    res1 = (await fetch('./databas.json'));
    return members = (await res1.json());
  } catch (error) {
    err = error;
    return console.error('Fel vid h√§mtning:', err);
  }
})();

// 0 name
// 1 S
// 2 R
// 3 B
// 4 born
// 5 country
find = function() {
  var antal, fragment, fragments, i, key, land, len, member, result, year;
  fragments = name.value ? name.value.split(' ') : [];
  echo(fragments.length);
  year = born.value || "";
  land = country.value || "";
  echo(year);
  result = [];
  for (key in members) {
    member = members[key];
    antal = 0;
    for (i = 0, len = fragments.length; i < len; i++) {
      fragment = fragments[i];
      if (member[0].includes(fragment)) {
        antal++;
      }
    }
    if (antal < fragments.length) {
      continue;
    }
    if (!`${member[4]}`.startsWith(year)) {
      continue;
    }
    if (!`${member[5]}`.startsWith(land)) {
      continue;
    }
    result.push(key + ' ' + member[0]);
    count.innerText = result.length;
    if (result.length >= 1000) {
      break;
    }
  }
  result.push;
  return textarea1.value = result.join('\n');
};

name = document.getElementById("name");

born = document.getElementById("born");

count = document.getElementById("count");

country = document.getElementById("country");

answer = document.getElementById("textarea1");

name.addEventListener('input', function(e) {
  return find();
});

born.addEventListener('input', function(e) {
  return find();
});

country.addEventListener('input', function(e) {
  return find();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJzZWFyY2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFDZixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVWLE9BQUEsR0FBVSxDQUFBOztBQUVQLENBQUEsTUFBQSxRQUFBLENBQUEsQ0FBQTtBQUNILE1BQUEsR0FBQSxFQUFBO0FBQUM7SUFDQyxJQUFBLEdBQU8sQ0FBQSxNQUFNLEtBQUEsQ0FBTSxnQkFBTixDQUFOO1dBQ1AsT0FBQSxHQUFVLENBQUEsTUFBTSxJQUFJLENBQUMsSUFBTCxDQUFBLENBQU4sRUFGWDtHQUdBLGFBQUE7SUFBTTtXQUNMLE9BQU8sQ0FBQyxLQUFSLENBQWMsbUJBQWQsRUFBbUMsR0FBbkMsRUFERDs7QUFKRSxDQUFBLElBTEg7Ozs7Ozs7O0FBbUJBLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtBQUNQLE1BQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUE7RUFBQyxTQUFBLEdBQWUsSUFBSSxDQUFDLEtBQVIsR0FBbUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFYLENBQWlCLEdBQWpCLENBQW5CLEdBQTZDO0VBQ3pELElBQUEsQ0FBSyxTQUFTLENBQUMsTUFBZjtFQUNBLElBQUEsR0FBTyxJQUFJLENBQUMsS0FBTCxJQUFjO0VBQ3JCLElBQUEsR0FBTyxPQUFPLENBQUMsS0FBUixJQUFpQjtFQUN4QixJQUFBLENBQUssSUFBTDtFQUNBLE1BQUEsR0FBUztFQUNULEtBQUEsY0FBQTtJQUNDLE1BQUEsR0FBUyxPQUFPLENBQUMsR0FBRDtJQUNoQixLQUFBLEdBQVE7SUFFUixLQUFBLDJDQUFBOztNQUNDLElBQUcsTUFBTSxDQUFDLENBQUQsQ0FBRyxDQUFDLFFBQVYsQ0FBbUIsUUFBbkIsQ0FBSDtRQUFvQyxLQUFBLEdBQXBDOztJQUREO0lBRUEsSUFBRyxLQUFBLEdBQVEsU0FBUyxDQUFDLE1BQXJCO0FBQWlDLGVBQWpDOztJQUVBLElBQUcsQ0FBSSxDQUFBLENBQUEsQ0FBRyxNQUFNLENBQUMsQ0FBRCxDQUFULENBQUEsQ0FBYyxDQUFDLFVBQWYsQ0FBMEIsSUFBMUIsQ0FBUDtBQUEyQyxlQUEzQzs7SUFDQSxJQUFHLENBQUksQ0FBQSxDQUFBLENBQUcsTUFBTSxDQUFDLENBQUQsQ0FBVCxDQUFBLENBQWMsQ0FBQyxVQUFmLENBQTBCLElBQTFCLENBQVA7QUFBMkMsZUFBM0M7O0lBRUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxHQUFBLEdBQU0sR0FBTixHQUFZLE1BQU0sQ0FBQyxDQUFELENBQTlCO0lBQ0EsS0FBSyxDQUFDLFNBQU4sR0FBa0IsTUFBTSxDQUFDO0lBQ3pCLElBQUcsTUFBTSxDQUFDLE1BQVAsSUFBaUIsSUFBcEI7QUFBOEIsWUFBOUI7O0VBYkQ7RUFlQSxNQUFNLENBQUM7U0FDUCxTQUFTLENBQUMsS0FBVixHQUFrQixNQUFNLENBQUMsSUFBUCxDQUFZLElBQVo7QUF2Qlo7O0FBeUJQLElBQUEsR0FBTyxRQUFRLENBQUMsY0FBVCxDQUF3QixNQUF4Qjs7QUFDUCxJQUFBLEdBQU8sUUFBUSxDQUFDLGNBQVQsQ0FBd0IsTUFBeEI7O0FBQ1AsS0FBQSxHQUFRLFFBQVEsQ0FBQyxjQUFULENBQXdCLE9BQXhCOztBQUNSLE9BQUEsR0FBVSxRQUFRLENBQUMsY0FBVCxDQUF3QixTQUF4Qjs7QUFDVixNQUFBLEdBQVMsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsV0FBeEI7O0FBRVQsSUFBSSxDQUFDLGdCQUFMLENBQXNCLE9BQXRCLEVBQStCLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FBTyxJQUFBLENBQUE7QUFBUCxDQUEvQjs7QUFDQSxJQUFJLENBQUMsZ0JBQUwsQ0FBc0IsT0FBdEIsRUFBK0IsUUFBQSxDQUFDLENBQUQsQ0FBQTtTQUFPLElBQUEsQ0FBQTtBQUFQLENBQS9COztBQUNBLE9BQU8sQ0FBQyxnQkFBUixDQUF5QixPQUF6QixFQUFrQyxRQUFBLENBQUMsQ0FBRCxDQUFBO1NBQU8sSUFBQSxDQUFBO0FBQVAsQ0FBbEMiLCJzb3VyY2VzQ29udGVudCI6WyJlY2hvID0gY29uc29sZS5sb2dcclxucmFuZ2UgPSBfLnJhbmdlXHJcblxyXG5tZW1iZXJzID0ge31cclxuXHJcbmRvIC0+XHJcblx0dHJ5XHJcblx0XHRyZXMxID0gYXdhaXQgZmV0Y2goJy4vZGF0YWJhcy5qc29uJykgXHJcblx0XHRtZW1iZXJzID0gYXdhaXQgcmVzMS5qc29uKClcclxuXHRjYXRjaCBlcnJcclxuXHRcdGNvbnNvbGUuZXJyb3IgJ0ZlbCB2aWQgaMOkbXRuaW5nOicsIGVyclxyXG5cclxuIyAwIG5hbWVcclxuIyAxIFNcclxuIyAyIFJcclxuIyAzIEJcclxuIyA0IGJvcm5cclxuIyA1IGNvdW50cnlcclxuXHJcbmZpbmQgPSAtPlxyXG5cdGZyYWdtZW50cyA9IGlmIG5hbWUudmFsdWUgdGhlbiBuYW1lLnZhbHVlLnNwbGl0ICcgJyBlbHNlIFtdXHJcblx0ZWNobyBmcmFnbWVudHMubGVuZ3RoXHJcblx0eWVhciA9IGJvcm4udmFsdWUgfHwgXCJcIlxyXG5cdGxhbmQgPSBjb3VudHJ5LnZhbHVlIHx8IFwiXCJcclxuXHRlY2hvIHllYXJcclxuXHRyZXN1bHQgPSBbXVxyXG5cdGZvciBrZXkgb2YgbWVtYmVyc1xyXG5cdFx0bWVtYmVyID0gbWVtYmVyc1trZXldXHJcblx0XHRhbnRhbCA9IDBcclxuXHJcblx0XHRmb3IgZnJhZ21lbnQgaW4gZnJhZ21lbnRzXHJcblx0XHRcdGlmIG1lbWJlclswXS5pbmNsdWRlcyBmcmFnbWVudCB0aGVuIGFudGFsKytcclxuXHRcdGlmIGFudGFsIDwgZnJhZ21lbnRzLmxlbmd0aCB0aGVuIGNvbnRpbnVlXHJcblxyXG5cdFx0aWYgbm90IFwiI3ttZW1iZXJbNF19XCIuc3RhcnRzV2l0aCB5ZWFyIHRoZW4gY29udGludWVcclxuXHRcdGlmIG5vdCBcIiN7bWVtYmVyWzVdfVwiLnN0YXJ0c1dpdGggbGFuZCB0aGVuIGNvbnRpbnVlXHJcblxyXG5cdFx0cmVzdWx0LnB1c2gga2V5ICsgJyAnICsgbWVtYmVyWzBdXHJcblx0XHRjb3VudC5pbm5lclRleHQgPSByZXN1bHQubGVuZ3RoXHJcblx0XHRpZiByZXN1bHQubGVuZ3RoID49IDEwMDAgdGhlbiBicmVha1xyXG5cclxuXHRyZXN1bHQucHVzaFxyXG5cdHRleHRhcmVhMS52YWx1ZSA9IHJlc3VsdC5qb2luICdcXG4nXHJcblxyXG5uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJuYW1lXCJcclxuYm9ybiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwiYm9yblwiXHJcbmNvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJjb3VudFwiXHJcbmNvdW50cnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImNvdW50cnlcIlxyXG5hbnN3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRleHRhcmVhMVwiXHJcblxyXG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIgJ2lucHV0JywgKGUpIC0+IGZpbmQoKVxyXG5ib3JuLmFkZEV2ZW50TGlzdGVuZXIgJ2lucHV0JywgKGUpIC0+IGZpbmQoKVxyXG5jb3VudHJ5LmFkZEV2ZW50TGlzdGVuZXIgJ2lucHV0JywgKGUpIC0+IGZpbmQoKVxyXG4iXX0=
//# sourceURL=c:\github\FIDE-ratinglist\search.coffee